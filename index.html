<!DOCTYPE html>
<!-- Created with https://packager.turbowarp.org/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>CAPYBUTTON</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #ffffff;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #ffffff;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      border-radius: 0.25rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #ff4c4c26;
    }
    .control-button.active {
      background: #ff4c4c59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#ffffff">
  <link rel="icon" href="data:image/png;base64,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">
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#4cbf56;stroke:#45993d;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    
    
    
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 480;
      scaffolding.height = 360;
      scaffolding.resizeMode = "dynamic-resize";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      scaffolding.setUsername("player####".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#ff4c4c");

      scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@CAPYBUTTON.sb3"));

      vm.setTurboMode(false);
      if (vm.setInterpolation) vm.setInterpolation(false);
      if (vm.setFramerate) vm.setFramerate(60);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(false);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: true,
        miscLimits: true,
        maxClones: 300,
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":false,"pointerlock":false,"specialCloudBehaviors":true,"unsafeCloudBehaviors":false,"pause":false});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: 'unsandboxed',
        canLoadExtensionFromProject: (url) => {
          handleError(new Error('Missing custom extension: ' + url));
          return Promise.resolve(false);
        }
      });
      for (const extension of []) {
        vm.extensionManager.loadExtensionURL(extension);
      }

    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.2, 0.98, loaded / total));
        };
        
        storage.addWebStore(
          [storage.AssetType.ImageVector, storage.AssetType.ImageBitmap, storage.AssetType.Sound],
          (asset) => new URL('./assets/' + asset.assetId + '.' + asset.dataFormat, location).href
        );
        return () => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.2, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./assets/project.json");
        xhr.send();
      });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (true) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
